<template>
  <require from="./chat"></require>
  <require from="./roomcontrols"></require>
  <div ref="room" class="room">
    <div ref="chatContainer" id="chatcontainer" class="chatcontainer">
      <chat room.bind="roomName"></chat>
    </div>
    <div ref="contentContainer" id="contentcontainer" class="contentcontainer">
      <video
        controls
        ref="embeddedVideo"
        class="embedded-video"
        if.bind="content.type == 'unknown'"
        src.bind="content.url"
        width="100%"
        height="100%"
        play.trigger="onPlay()"
        pause.trigger="onPause()"
        seeked.trigger="onSeek()"
      ></video>
      <div ref="youtubePlayer" class="youtube-player"></div>
      <div class="usercontrols-activationzone">
        <div class="usercontrols">
          <a href="#" class="usercontrol" title="Reload" click.trigger="reloadContent()"
            ><span class="fa fa-refresh"></span
          ></a>
          <a href="#" class="usercontrol" title="Fullscreen" click.trigger="toggleFullscreen()"
            ><span class="fa fa-television"></span
          ></a>
        </div>
      </div>
      <div class="admincontrols">
        <button type="button" name="controlpanel" click.trigger="toggleRoomControls()">
          <span class="fa fa-wrench"></span>
        </button>
      </div>
    </div>
    <div if.bind="showRoomControls" class="roomcontrols-container">
      <div class="overlay" click.trigger="toggleRoomControls()"></div>
      <room-controls class="dialog"></room-controls>
    </div>
  </div>
</template>
